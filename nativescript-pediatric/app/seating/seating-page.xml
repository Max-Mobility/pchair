<Page
    navigatingTo="onNavigatingTo"
    xmlns:lv="nativescript-ui-listview"
    xmlns:RL="nativescript-ripple"
    xmlns="http://schemas.nativescript.org/tns.xsd">

  <ActionBar class="action-bar">
    <GridLayout columns="*, auto" rows="*">
      <Label class="action-bar-title" text="Seating"></Label>
      <Image col="1" height="32"
             class="action-item"
             tap="{{ onBluetoothTap }}"
             visibility="{{ isBusy, isBusy ? 'collapse':'visible' }}"
             src="~/assets/images/bluetooth.png"></Image>
      <ActivityIndicator col="1" width="32" height="32"
                         class="action-item"
                         busy="{{ isBusy }}"/>
    </GridLayout>
  </ActionBar>

  <StackLayout class="page-content" width="100%" height="100%">
    <lv:RadListView class="control-container"
                    selectionBehavior="Press" multipleSelection="false"
                    items="{{ controlItems }}"
                    itemSelected="{{ onControlSelected }}">
      <lv:RadListView.listViewLayout>
        <lv:ListViewStaggeredLayout scrollDirection="Vertical" spanCount="3"/>
      </lv:RadListView.listViewLayout>
      <lv:RadListView.itemTemplate>
        <StackLayout class="control-item">
          <Image class="control-image" src="{{ img }}"></Image>
          <Label class="control-label" text="{{ name }}"></Label>
        </StackLayout>
      </lv:RadListView.itemTemplate>
    </lv:RadListView>

    <ScrollView width="100%" height="100%">
      <StackLayout class="active-controls">
        <Button class="control-btn" text="+" tap="{{ onIncreaseControl }}"></Button>
        <Image class="control-image" src="{{ selectedControl.img }}"></Image>
        <Label class="control-label" text="{{ selectedControl.name }}"></Label>
        <Button class="control-btn" text="-" tap="{{ onIncreaseControl }}"></Button>
      </StackLayout>
    </ScrollView>
  </StackLayout>
</Page>
